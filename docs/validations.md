## バリデーション

モデルのクラスにはバリデーションを設定することが可能です。バリデーションによって、モデルに保存することができるデータの種類を制限することができます。特に```store```コレクションに対してバリデーションは有効ですが、他でも利用することができます。

現在のところ、2種類(lengthとpresence)のバリデーションが実装されています。これから追加されていく予定です。

```ruby
    class Info < Model
      validate :_name, length: 5
      validate :_state, presence: true
    end
```

バリデーションがある場合、ここでモデルに対して save を実行すると、以下のようになります。

1. クライアントサイトでバリデーションが実行されます。もしバリデーションがエラーになった場合、```save!```の結果のpromiseがエラーオブジェクトを伴ってrejectされます。2. データはサーバーに送られ、クライアントとサーバーサイドのバリデーションがサーバー上で実行されます。すべてのエラーが返され、promiseはフロントエンドで(エラーオブジェクトを伴って)rejectされます。
    - バリデーションがサーバーサイドでも再度実行されることで、バリデーションにパスしないデータが保存されてしまうことを確実に回避します。すべてのバリデーションにパスすると、データはデータベースに保存され、promiseはクライアント上でresolveされます。4. データが他のすべてのクライアントと同期されます。
